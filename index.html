<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="/styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Poppins', sans-serif;
            background: linear-gradient(135deg, #6a11cb 0%, #2575fc 100%);
            color: #ffffff;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 2rem;
            margin: 0;
        }

        .container {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border-radius: 30px;
            padding: 3rem;
            box-shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.37);
            border: 1px solid rgba(255, 255, 255, 0.18);
            max-width: 900px;
            width: 100%;
        }

        form {
            display: grid;
            gap: 1.5rem;
        }

        label {
            font-weight: 600;
            margin-bottom: 0.5rem;
            display: block;
        }

        input, button {
            width: 100%;
            padding: 1rem;
            border-radius: 15px;
            border: none;
            background: rgba(255, 255, 255, 0.2);
            color: #ffffff;
            transition: all 0.3s ease;
            font-size: 1rem;
        }

        input:focus {
            outline: none;
            box-shadow: 0 0 0 3px rgba(255, 255, 255, 0.5);
        }

        button {
            background: linear-gradient(45deg, #FF6B6B, #4ECDC4);
            cursor: pointer;
            font-weight: bold;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        button:hover {
            transform: translateY(-3px);
            box-shadow: 0 7px 20px rgba(0, 0, 0, 0.3);
        }

        .table-container {
            width: 100%;
            overflow-x: auto;
            margin-top: 3rem;
        }

        table {
            width: 100%;
            border-collapse: separate;
            border-spacing: 0;
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            overflow: hidden;
        }

        th, td {
            padding: 1.2rem;
            text-align: left;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            white-space: nowrap;
        }

        th {
            background: rgba(255, 255, 255, 0.2);
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        tr:last-child td {
            border-bottom: none;
        }

        #thankYouMessage {
            background: rgba(255, 255, 255, 0.2);
            padding: 1.5rem;
            border-radius: 15px;
            margin-top: 2rem;
            text-align: center;
            font-weight: 600;
            font-size: 1.1rem;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(-20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .fade-in {
            animation: fadeIn 0.7s ease-out;
        }

        @media screen and (max-width: 600px) {
            th, td {
                padding: 0.8rem;
                font-size: 0.9rem;
            }
        }

        #searchInput {
            width: 100%;
            padding: 1rem;
            margin-bottom: 1rem;
            border-radius: 15px;
            border: none;
            background: rgba(255, 255, 255, 0.2);
            color: #ffffff;
            font-size: 1rem;
        }

        #searchInput::placeholder {
            color: rgba(255, 255, 255, 0.7);
        }

        .highlight {
            background-color: rgba(255, 255, 0, 0.3);
        }

        .sort-btn {
            cursor: pointer;
            user-select: none;
        }

        .sort-btn:hover {
            text-decoration: underline;
        }
    </style>
</head>
<body>
    <div class="container fade-in">
        <form id="myForm">
            <label for="name">Name:</label>
            <input type="text" id="name" name="name" required pattern="[A-Za-z\s]+" title="Please enter a valid name (letters and spaces only)">

            <label for="email">Email:</label>
            <input type="email" id="email" name="email" required>

            <label for="confirmEmail">Confirm Email:</label>
            <input type="email" id="confirmEmail" name="confirmEmail" required>

            <label for="age">Age:</label>
            <input type="number" id="age" name="age" required min="18" max="120">

            <label for="favoriteColor">Favorite Color:</label>
            <input type="color" id="favoriteColor" name="favoriteColor" required>

            <button type="submit">Submit</button>
        </form>

        <div id="thankYouMessage" style="display: none;">
            Thank you for submitting the form! Your data has been securely recorded
        </div>

        <div class="table-container">
            <input type="text" id="searchInput" placeholder="Search the table...">
            <table id="carTable">
                <thead>
                    <tr>
                        <th class="sort-btn" data-column="0">Manufacturer</th>
                        <th class="sort-btn" data-column="1">Model</th>
                        <th class="sort-btn" data-column="2">Year</th>
                        <th class="sort-btn" data-column="3">Horsepower</th>
                        <th class="sort-btn" data-column="4">0-60 mph (s)</th>
                        <th class="sort-btn" data-column="5">Top Speed (mph)</th>
                        <th class="sort-btn" data-column="6">City (mpg)</th>
                        <th class="sort-btn" data-column="7">Highway (mpg)</th>
                        <th class="sort-btn" data-column="8">Price (USD)</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>Toyota</td>
                        <td>Camry</td>
                        <td>2023</td>
                        <td>203</td>
                        <td>7.6</td>
                        <td>135</td>
                        <td>28</td>
                        <td>39</td>
                        <td>26,420</td>
                    </tr>
                    <tr>
                        <td>Toyota</td>
                        <td>Corolla</td>
                        <td>2023</td>
                        <td>169</td>
                        <td>8.2</td>
                        <td>118</td>
                        <td>31</td>
                        <td>40</td>
                        <td>21,550</td>
                    </tr>
                    <tr>
                        <td>Toyota</td>
                        <td>RAV4</td>
                        <td>2023</td>
                        <td>203</td>
                        <td>8.1</td>
                        <td>120</td>
                        <td>27</td>
                        <td>35</td>
                        <td>27,575</td>
                    </tr>
                    <tr>
                        <td>Honda</td>
                        <td>Civic</td>
                        <td>2023</td>
                        <td>158</td>
                        <td>7.9</td>
                        <td>137</td>
                        <td>31</td>
                        <td>40</td>
                        <td>23,950</td>
                    </tr>
                    <tr>
                        <td>Honda</td>
                        <td>Accord</td>
                        <td>2023</td>
                        <td>192</td>
                        <td>7.2</td>
                        <td>116</td>
                        <td>30</td>
                        <td>38</td>
                        <td>27,615</td>
                    </tr>
                    <tr>
                        <td>Honda</td>
                        <td>CR-V</td>
                        <td>2023</td>
                        <td>190</td>
                        <td>7.8</td>
                        <td>124</td>
                        <td>28</td>
                        <td>34</td>
                        <td>31,610</td>
                    </tr>
                    <tr>
                        <td>Ford</td>
                        <td>Mustang</td>
                        <td>2023</td>
                        <td>310</td>
                        <td>5.1</td>
                        <td>155</td>
                        <td>21</td>
                        <td>32</td>
                        <td>27,470</td>
                    </tr>
                    <tr>
                        <td>Ford</td>
                        <td>F-150</td>
                        <td>2023</td>
                        <td>290</td>
                        <td>6.5</td>
                        <td>107</td>
                        <td>20</td>
                        <td>24</td>
                        <td>34,585</td>
                    </tr>
                    <tr>
                        <td>Ford</td>
                        <td>Explorer</td>
                        <td>2023</td>
                        <td>300</td>
                        <td>6.8</td>
                        <td>123</td>
                        <td>20</td>
                        <td>28</td>
                        <td>36,760</td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>

    <script src="/script.js"></script>
    <script>
        // Search functionality
        const searchInput = document.getElementById('searchInput');
        const table = document.getElementById('carTable');
        const rows = table.getElementsByTagName('tr');

        searchInput.addEventListener('keyup', function() {
            const searchTerm = this.value.toLowerCase();
            
            for (let i = 1; i < rows.length; i++) {
                const row = rows[i];
                const cells = row.getElementsByTagName('td');
                let found = false;

                for (let j = 0; j < cells.length; j++) {
                    const cell = cells[j];
                    if (cell.innerHTML.toLowerCase().indexOf(searchTerm) > -1) {
                        found = true;
                        cell.innerHTML = cell.innerHTML.replace(/<span class="highlight">(.*?)<\/span>/gi, '$1');
                        cell.innerHTML = cell.innerHTML.replace(new RegExp(searchTerm, 'gi'), match => `<span class="highlight">${match}</span>`);
                    } else {
                        cell.innerHTML = cell.innerHTML.replace(/<span class="highlight">(.*?)<\/span>/gi, '$1');
                    }
                }

                row.style.display = found ? '' : 'none';
            }
        });

        // Sorting functionality
        const getCellValue = (tr, idx) => tr.children[idx].innerText || tr.children[idx].textContent;

        const comparer = (idx, asc) => (a, b) => ((v1, v2) => 
            v1 !== '' && v2 !== '' && !isNaN(v1) && !isNaN(v2) ? v1 - v2 : v1.toString().localeCompare(v2)
        )(getCellValue(asc ? a : b, idx), getCellValue(asc ? b : a, idx));

        document.querySelectorAll('th.sort-btn').forEach(th => th.addEventListener('click', (() => {
            const table = th.closest('table');
            const tbody = table.querySelector('tbody');
            Array.from(tbody.querySelectorAll('tr'))
                .sort(comparer(Array.from(th.parentNode.children).indexOf(th), this.asc = !this.asc))
                .forEach(tr => tbody.appendChild(tr) );
        })));
    </script>
</body>
</html>
